@model hypster.ViewModels.AddToPlayListViewModel
@{
    Layout = null;
}




<script type="text/javascript">
    $(document).ready(function () {
        $("#AddToPlaylistContPopup1").css("display", "block");
        $("#AddToPlaylistContPopup1").css("margin-left", "10px");
        $("#AddToPlaylistContPopup1").css("margin-top", "20px");

        if ($(window).width() > 310) {
            $("#AddToPlaylistContPopup1").css("margin-left", (($(window).width() - 320) / 2) + "px");
        }
        else {
            $("#AddToPlaylistContPopup1").css("margin-left", "0px");
        }
    });

    function AddNewSongOnComplete() {
        HideAddToPlaylist();
        $('#MainContHolder').css('display', 'block');

        var rand_num = Math.floor((Math.random() * 100000) + 1);
        $('#cb_hf').val(rand_num);
    }
</script>





<div id="AddToPlaylistContPopup1" style=" width:310px;">
    

    <div class="ExitBtnCont">
        <img alt="" src="/imgs/exit_button.png" onclick="HideAddToPlaylist();" />
    </div>


    <div class="LeftCont">
    
            <div style=" float:left; width:98%; margin:1%; ">
            @using (Ajax.BeginForm("SubmitAddNewSongPopup", "appPlaylist", new AjaxOptions { UpdateTargetId = "MessageBox1", HttpMethod = "POST", OnComplete = "AddNewSongOnComplete" }))
            {
                <h2 class="SongTitle">
                    @ViewBag.song_title
                </h2>
            
        
                <div class="SongDetails">
                    

                    <div style=" float:left; width:100%; line-height:31px; margin:10px 0 0 10px; text-align:left; ">
                        
                        Song ID:<br />
                        <input type="text" value="@ViewBag.song_guid" disabled="disabled" style=" width:275px; height:19px;" /><br />
                        
                        Playlist:<br /> 
                        <select id="Sel_Playlist_ID" name="Sel_Playlist_ID" style=" width:280px; height:26px; margin-top:2px;"> 
                            @foreach (var item in Model.playlists_list)
                            {
                                <option value="@item.id" @if(Model.curr_user.active_playlist == item.id){<text>selected="selected"</text>}>@item.name</option>
                            }
                        </select>

                        <input id="Song_Guid" name="Song_Guid" type="hidden" value="@ViewBag.song_guid" />
                        <input id="Song_Title" name="Song_Title" type="hidden" value="@ViewBag.song_title" />

                        <input id="StayHereCheck" name="StayHereCheck" type="hidden" value="" />

                        <input id="cb_hf" name="cb_hf" type="hidden" value="@ViewBag.cb_hf" />
                    </div>
                </div>
                
                
                
                <div style=" float:left; width:100%; margin:10px 0 0 0; text-align:left;">
                    @if (Model.songs_list.Count > 300)
                    {
                        <div style=" color:#454545;">
                            <img alt="" src="/imgs/attention_icon.png" />
                            Your playlist is getting too big. Please consider create a new playlist.
                        </div>
                    } 
                </div>
                

                <div style=" float:left; width:100%; margin:10px 0 0 0; text-align:left;">
                    @if (ViewBag.SongAlreadyExist == "Y")
                    {
                        <div style=" color:#454545;">
                            <img alt="" src="/imgs/attention_icon.png" />
                            This song already exist in your playlist.
                        </div>
                    }
                </div>
        
        
                
                <div style="float:left; width:100%; margin-top:10px; text-align:right;">
                    <input class="AddBtn1" type="submit" value="ADD TO MY PLAYLIST" onmouseup="this.value='In Progress...';" style=" width:300px;" />
                    <br />
                    <input type="button" onclick="HideAddToPlaylist();" value="Cancel" style=" float:left; width:300px; height:30px; margin-top:10px;" />
                </div>
                
                
                <div id="MessageBox1"></div>
            }

            </div>
        
    </div>


    

</div>





<script type="text/javascript">
    function Add_and_stay_here_CLICK() {
        $('#StayHereCheck').val('1');
    }

    function HideAddToPlaylist() {
        document.getElementById('HideBackDiv').style.display = 'none';
        document.getElementById('popupContainer').style.display = 'none';
        $('#popupContainer').html("");
    }
</script>










