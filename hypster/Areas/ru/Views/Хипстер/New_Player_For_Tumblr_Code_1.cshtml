@model hypster.ViewModels.GetPlayerViewModel
@{
    ViewBag.Title = "Новый плеер для Tumblr";
    ViewBag.Desc = "получить код для нового Tumblr плеера";

    Layout = "~/Areas/ru/Views/Shared/_Layout.cshtml";
}
<script type="text/javascript" src="/scripts/jscolor/jscolor.js"></script>




<script type="text/javascript">

    $(document).ready(function () {

        var margin_left = 0;
        var cont_width = 1024;

        if ($(window).width() > 1024) {
            margin_left = $(window).width() - 1024 - 44;
            cont_width = 1024 + 30 + (margin_left / 2) - 15;
        } else {
            margin_left = 0;
            cont_width = 1024;
        }


        $("#listenSlide1").css("float", "left");
        $("#listenSlide1").css("width", cont_width + "px");

        $("#listenSlide2").css("float", "right");
        $("#listenSlide2").css("width", cont_width + "px");

        $("#listenSlide3").css("float", "left");
        $("#listenSlide3").css("width", cont_width + "px");


        //init player settings and sample
        refreshPlayer();
        //-------------------------------
    });

</script>






<div class="boxContLeft boxContRightTop">
    <div id="listenSlide1" class="slideLeft" style=" min-height:95px; ">
        

                <div class="NPFT_Head" >
                    
                        <div class="ffHeader">Tumblr Плеер</div>

                        <div class="NPFT_TopAd">
                            <div id="TopAdd1_s9128">
                                @Html.Partial("~/Views/hypAds/ad_728x90.cshtml")
                            </div>
                            <!-- 06_25 -->
                            
                        </div>

                </div>

    </div>
</div>











<div class="boxContRight">
<div id="listenSlide2" class="slideRight" style=" min-height:595px; ">
    
    <div class="NPFT_ContHolder">


            <div class="GetCodeBtn"><h2>Получить код</h2></div>
            <div class="MoreSkinsBtn" onclick="window.location='/ru/Создать/Плеер';"><h2>Дополнительные скины</h2></div>




    
            <div id="CPL_Tab2">
                    
                    <div style=" float:left; width:98%; height:15px; line-height:13px; padding:1%; margin-bottom:13px; background-color:#FCF088; color:#232323; font-size:17px; border-radius:3px;">
                        Hypster плеер находится в бета-режиме. Пожалуйста, отправьте ваши комментарии <a href='/ru/Хипстер/Контакты' style=" color:#000000; font-weight:bold;">СЮДА</a>.
                    </div>

                
                    <div id="SampleSettingsHolder">

                    
                            <div class="HeaderCompText">
                                Настройки плеера:
                            </div>



               

                            <div class="SettingItm">
                                Плейлист: 
                                <select id="hypPlayer_Playlist_ID" name="hypPlayer_PlaylistID" onchange="refreshPlayer();"> 
                                    @foreach (var item in Model.playlists_list)
                                    {
                                        <option value="@item.id">@item.name</option>
                                    }
                                </select>
                            </div>
        

                            <div class="SettingItm">
                                Автозапуск: <input type="checkbox" checked="checked" id="hypPlayer_Autostart" name="hypPlayer_Autostart" onclick="refreshPlayer()" />
                            </div>
        

                            <div class="SettingItm">
                                Воспроизведение в случайном порядке: <input type="checkbox" checked="checked" id="hypPlayer_ShufflePlayback" name="hypPlayer_ShufflePlayback" onclick="refreshPlayer()" />
                            </div>






                            <div class="SettingItm">
                                Основной цвет:&nbsp;
                                <input id="hf_MainBackColor" name="hf_MainBackColor" class="color" onchange="refreshPlayer()" style=" width:52px; height:23px; border:none; border-radius:2px;" value="000000" />
                            </div>


                            <div class="SettingItm">
                                Цвет кнопки Восп/Пауза:&nbsp;
                                <input id="hf_PlayPauseButtonColor" name="hf_PlayPauseButtonColor" class="color" onchange="refreshPlayer()" style=" width:52px; height:23px; border:none; border-radius:2px;" value="50846b" />
                            </div>

                            <div class="SettingItm">
                                Цвет кнопки Пред:&nbsp;
                                <input id="hf_PrevButtonColor" name="hf_PrevButtonColor" class="color" onchange="refreshPlayer()" style=" width:52px; height:23px; border:none; border-radius:2px;" value="0e1211" />
                            </div>

                            <div class="SettingItm">
                                Цвет кнопки След:&nbsp;
                                <input id="hf_NextButtonColor" name="hf_NextButtonColor" class="color" onchange="refreshPlayer()" style=" width:52px; height:23px; border:none; border-radius:2px;" value="1d2624" />
                            </div>

                            <div class="SettingItm">
                                Цвет кнопки случайного порядка:&nbsp;
                                <input id="hf_ShuffleButtonColor" name="hf_ShuffleButtonColor" class="color" onchange="refreshPlayer()" style=" width:52px; height:23px; border:none; border-radius:2px;" value="415158" />
                            </div>
                
                            <div class="SettingItm">
                                Цвет кнопки Hypster:&nbsp;
                                <input id="hf_HypsterButtonColor" name="hf_HypsterButtonColor" class="color" onchange="refreshPlayer()" style=" width:52px; height:23px; border:none; border-radius:2px;" value="2488ba" />
                            </div>


                            <div class="SettingItm">
                                Показывать кнопки на плеере: <input type="checkbox" checked="checked" id="hypPlayer_DisplayControlsOnPlayer" name="hypPlayer_DisplayControlsOnPlayer" onclick="refreshPlayer()" />
                            </div>

                            <div class="SettingItm">
                                Скрыть окно проигрывателя: <input type="checkbox" id="hypPlayer_HidePlayerWindow" name="hypPlayer_HidePlayerWindow" onclick="refreshPlayer()" />
                                <br /><span style=" color:#FCF088; font-size:11px;">YouTube требуется иметь видео окно, в противном случае некоторые песни могут быть отключены.</span>
                            </div>



                            <div class="SettingItm">
                                Сохранять состояние воспроизведения: <input type="checkbox" checked="checked" id="hypPlayer_SavePlaybackState" name="hypPlayer_SavePlaybackState" onclick="refreshPlayer()" />
                            </div>

                    </div>
        


                    
                    <div id="SampleContHolder" style=" min-height:500px; text-align:center;">
                            
                            <div style=" float:left; width:100%;">
                                <h2>Предварительный просмотр</h2>
                                <br/>
                            </div>


                            <div style=" float:left; width:350px; margin-left:140px; ">
                                    <script id="HypPlayerScript" 
                                    type="text/javascript" 
                                    src="http://@System.Configuration.ConfigurationManager.AppSettings["hypsterHostName"]/a/player6.js" 
                                    hypHostName="@System.Configuration.ConfigurationManager.AppSettings["hypsterHostName"]" 
                                    hypUserID="@Model.curr_user.id" 
                                    hypPlaylistID="@if(Model.playlists_list.Count > 0){ <text>@Model.playlists_list[0].id</text>}else{<text>0</text>}" 
                                    hypPlayerControls="1" 
                                    hypAutostart="0" 
                                    hypPlayerSort="" 
                                    hypMainBackColor="#000000" 
                                    hypPrevButtonColor="#0e1211" 
                                    hypPlayPauseButtonColor="#50846b" 
                                    hypNextButtonColor="#1d2624" 
                                    hypShuffleButtonColor="#415158" 
                                    hypHypsterButtonColor="#2488ba" 
                                    hypVisibility="visible"
                                    hypSaveState="1" ><!--Hypster Music Player --></script>
                            </div>


                            <div style=" float:left; width:100%; text-align:center;">
                                <br/>
                                Обратите внимание: Пропущенные песни из-за ограничений YouTube. <br /><br /> 
                            </div>

                    </div>
        




                    <div id="SampleCodeHolder">
                
                            <div class="HeaderCompText">
                                Код плеера:
                                <br /><span style=" color:#FCF088; font-size:11px;">Вы можете вставить плеер в любом месте между "&lt;body&gt;" and "&lt;/body&gt;" тегами.</span>
                            </div>


                            <textarea id="PlayerCodeArea">
                            </textarea>

                    </div>


            </div>



    </div>
</div>
</div>








<div class="boxContLeft">
    <div id="listenSlide3" class="slideLeft" style=" min-height:95px; ">
        
            
            <div class="NPFT_BHead">
                    
                <div class="NPFT_BottomAd">
                    <div id="TopAdd1_2736i1sxnbc">
                        @Html.Partial("~/Views/hypAds/ad_728x90.cshtml")
                    </div>
                    <!-- 06_25 -->
                    
                </div>

                <div class="NPFT_GoOnTop" onclick="$(document).scrollTop(0);">
                    Пойти на верх
                </div>

            </div>

    </div>
</div>


















<script type="text/javascript">

    
    var isLoaded = false;
    function refreshPlayer() {
        var sample_code = "";
        //-----------------------------------------------------------------------------------------------



        //-----------------------------------------------------------------------------------------------
        var hypPlayerControls_var = "0";
        if (document.getElementById("hypPlayer_DisplayControlsOnPlayer").checked == true)
            hypPlayerControls_var = "1";


        var HidePlayerWindow_var = "visible";
        if (document.getElementById("hypPlayer_HidePlayerWindow").checked == true)
            HidePlayerWindow_var = "hidden";



        var hypAutostart_var = "1";
        if (document.getElementById("hypPlayer_Autostart").checked == false)
            hypAutostart_var = "0";

        var hypPlayerSort_var = "";
        if (document.getElementById("hypPlayer_ShufflePlayback").checked == true)
            hypPlayerSort_var = "rand";

        
        
        var Playlist_ID_var = "";
        var object = document.getElementById("hypPlayer_Playlist_ID");
        Playlist_ID_var = object[object.selectedIndex].value;


        var hypPlayerSavePlaybackState_var = "0";
        if (document.getElementById("hypPlayer_SavePlaybackState").checked == true)
            hypPlayerSavePlaybackState_var = "1";
        //-----------------------------------------------------------------------------------------------


        


        //-----------------------------------------------------------------------------------------------
        var tag_script = $('#HypPlayerScript');
        $(tag_script).attr("src", "http://@System.Configuration.ConfigurationManager.AppSettings["hypsterHostName"]/a/player6.js");
        $(tag_script).attr("hypHostName", "@System.Configuration.ConfigurationManager.AppSettings["hypsterHostName"]");
        $(tag_script).attr("hypUserID", "@Model.curr_user.id");
        $(tag_script).attr("hypPlaylistID", Playlist_ID_var);
        $(tag_script).attr("hypPlayerControls", hypPlayerControls_var);
        $(tag_script).attr("hypAutostart", hypAutostart_var);
        $(tag_script).attr("hypPlayerSort", hypPlayerSort_var);
        $(tag_script).attr("hypMainBackColor", "#" + $("#hf_MainBackColor").val());
        
        $(tag_script).attr("hypPrevButtonColor", "#" + $("#hf_PrevButtonColor").val());
        $(tag_script).attr("hypPlayPauseButtonColor", "#" + $("#hf_PlayPauseButtonColor").val());
        $(tag_script).attr("hypNextButtonColor", "#" + $("#hf_NextButtonColor").val());
        $(tag_script).attr("hypShuffleButtonColor", "#" + $("#hf_ShuffleButtonColor").val());
        $(tag_script).attr("hypHypsterButtonColor", "#" + $("#hf_HypsterButtonColor").val());
        
        $(tag_script).attr("hypVisibility", HidePlayerWindow_var);
        $(tag_script).attr("hypSaveState", hypPlayerSavePlaybackState_var);
        //-----------------------------------------------------------------------------------------------




        //-----------------------------------------------------------------------------------------------
        if(isLoaded == true)
        {
            playlistLoaded = false;
            InitPlayer();
        }
        //-----------------------------------------------------------------------------------------------





        
        //-----------------------------------------------------------------------------------------------
        $("#PlayerCodeArea").val("");
        $("#PlayerControlsCodeArea").val("");
        $("#PlayerCodeArea").val($("#PlayerCodeArea").val() + "<" + "script id=\"HypPlayerScript\" type=\"text/javascript\" src=\"http://@System.Configuration.ConfigurationManager.AppSettings["hypsterHostName"]/a/player6.js\"  hypHostName=\"@System.Configuration.ConfigurationManager.AppSettings["hypsterHostName"]\" hypUserID=\"@Model.curr_user.id\" hypPlaylistID=\"" + Playlist_ID_var + "\" hypPlayerControls=\"" + hypPlayerControls_var + "\" hypAutostart=\"" + hypAutostart_var + "\" hypPlayerSort=\"" + hypPlayerSort_var + "\" hypMainBackColor=\"#" + $("#hf_MainBackColor").val() + "\" hypPrevButtonColor=\"#" + $("#hf_PrevButtonColor").val() + "\" hypPlayPauseButtonColor=\"#" + $("#hf_PlayPauseButtonColor").val() + "\" hypNextButtonColor=\"#" + $("#hf_NextButtonColor").val() + "\" hypShuffleButtonColor=\"#" + $("#hf_ShuffleButtonColor").val() + "\" hypHypsterButtonColor=\"#" + $("#hf_HypsterButtonColor").val() + "\" hypVisibility=\"" + HidePlayerWindow_var + "\"  hypSaveState=\"" + hypPlayerSavePlaybackState_var + "\"   " + ">" + "<" + "!-- Hypster Player --" + ">" + "<" + "/script" + ">");
        //-----------------------------------------------------------------------------------------------


        isLoaded = true;
    }

</script>
