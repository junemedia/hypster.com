@model hypster.ViewModels.festivalViewModel
@{
    Layout = null;
}




<div class="boxContRight">
    <div class="slideRight" style=" min-height:370px;">
            
            <div style=" float:left; width:1px; height:1px; ">
                <!-- SOCIAL BUTTONS -->
                <div style=" position:relative; top:50px; left:-30px;">
                    
                    <div style=" float:right; width:70px;">
                    
                        <div class="pw-widget pw-vertical" pw:image="" pw:url="http://hypster-local.com/festivals/details/@Model.festival.Festival_GUID" pw:title="@Model.festival.Festival_Name">
                        <a class="pw-button-tumblr pw-look-native"></a>
	                    <a class="pw-button-facebook pw-look-native"></a>
	                    <a class="pw-button-twitter pw-look-native"></a>
	                    <a class="pw-button-post-share"></a>
                        </div>
                        <script src="http://i.po.st/static/v3/post-widget.js#publisherKey=caq8eudavn7j6erou9n3" type="text/javascript"></script>

                    </div>

                </div>
                <!-- SOCIAL BUTTONS -->
            </div>

            

            <h1 class="ChartHeader">
                <div id="ListenBtn_@Model.festival.Festival_ID" class="radioButton" onclick="OpenPlayerM('/playlists/festival/@Model.festival.Festival_GUID');">
                    <a class="chartplPlay"  title="Play playlist"></a>
                    Listen to
                </div>

                
                <span style=" cursor:pointer; margin-left:20px; color:#feb739;" onclick="window.location='/festivals/details/@Model.festival.Festival_GUID';">
                    @Model.festival.Festival_Name
                </span>


                <div style=" float:right;">
                    <img class="MoveRight_arrow" alt="Move Right" src="/imgs/arrows/right.png" onmousedown="MoveContLeft('@Model.festival.Festival_ID')" onmouseup="MoveContLeft_Stop('@Model.festival.Festival_ID')" onmouseout="MoveContLeft_Stop('@Model.festival.Festival_ID')" />
                    <img class="MoveLeft_arrow" alt="Move Left" src="/imgs/arrows/left.png" onmousedown="MoveContRight('@Model.festival.Festival_ID')" onmouseup="MoveContRight_Stop('@Model.festival.Festival_ID')" onmouseout="MoveContRight_Stop('@Model.festival.Festival_ID')" />
                </div>

            </h1>





            <div class="chartContHldr">

                    <div class="ChartScrlArea">
                            @{ int chart_height = 150;}
                            @{ int margin_top = 10;}
                            @{ int chart_position = 1; }
                            @{ int cont_width = 0; }

                            <div id="MainChartCont_@Model.festival.Festival_ID" class="MainChartCont">
                                    @foreach (var item in Model.festival_songs_list)
                                    {
                                        <div class="chartItem" onmouseover="$('#PLK_@item.id').css('display','block');" onmouseout="$('#PLK_@item.id').css('display','none');" > 
                                                
                                                <div class="chrtImage" style=" height:@(chart_height)px; margin-top:@(margin_top)px; background:#1d1d1c url(http://i.ytimg.com/vi/@(item.YoutubeId)/0.jpg) center no-repeat; background-size: 220%;">
                                                    <div>@chart_position</div>
                                                </div>
                    
                                                <div class="chrtTitle">@item.Title</div>

                                                <div id="PLK_@item.id" class="Chart_PLK" onclick="OpenSong('@item.YoutubeId','@item.Title');">
                                                    <a class="ChartSongItm_play"></a>PLAY
                                                </div>
                                        </div>
        
        
                                        chart_height -= 0;
                                        margin_top += 0;
                                        chart_position += 1;

                                        cont_width += 165;
                                    }
                            </div>
                    </div>
            </div>

            

    </div>
</div>




<div class="boxContRight">
    <div class="slideRight" style=" min-height:90px;">
        
            <div style=" float:left; width:1014px; margin:5px 0 0 10px;">
                <div style=" font-size:18px; color:#000000;">
                    @Model.festival.Festival_Desc
                </div>
            </div>

    </div>
</div>







@{ string guid = Guid.NewGuid().ToString(); }
<div class="boxContLeft">
    <div class="slideLeft" style=" min-height:95px;">
            
            @Html.Partial("~/Views/hypAds/ad_728x90.cshtml")
            
    </div>
</div>












<script type="text/javascript">

    $(document).ready(function () {
        $("#MainChartCont_@Model.festival.Festival_ID").css("width", "@(cont_width)px");
        $("#MainChartCont_@Model.festival.Festival_ID").draggable({ axis: "x" });

        $("#ChartScrlArea_@Model.festival.Festival_ID").css("width", "@(cont_width)px");
    });

    

    var curr_spead = 10;
    var curr_left = null;
    var myTimer;


    function MoveContLeft(obj_id) {
        if (curr_left == null) {
            curr_left = $("#MainChartCont_" + obj_id).offset().left - $("#ListenBtn_" + obj_id).offset().left;
        }

        myTimer = setTimeout(function () {
            curr_left = curr_left - curr_spead;
            $("#MainChartCont_" + obj_id).css("left", curr_left + "px");
            curr_spead += 1;

            MoveContLeft(obj_id);
        }, 30);
    }
    function MoveContLeft_Stop(obj_id) {
        clearTimeout(myTimer);
        curr_spead = 10;
        curr_left = null;
    }




    function MoveContRight(obj_id) {
        if (curr_left == null) {
            curr_left = $("#MainChartCont_" + obj_id).offset().left - $("#ListenBtn_" + obj_id).offset().left;
        }

        myTimer = setTimeout(function () {
            curr_left = curr_left + curr_spead;
            $("#MainChartCont_" + obj_id).css("left", curr_left + "px");
            curr_spead += 1;

            MoveContRight(obj_id);
        }, 30);

    }
    function MoveContRight_Stop(obj_id) {
        clearTimeout(myTimer);
        curr_spead = 10;
        curr_left = null;
    }

</script> 