@using Google.GData;
@using Google.GData.Client;
@using Google.GData.Extensions;
@using Google.GData.YouTube;
@using Google.YouTube;


@model Feed<Video>
@{
    ViewBag.Title = "Music Search";
    Layout = null;
}



<div style="float:right; width:100%;">

<div class="SearchPageRoot">
    
    @{ int curr_index = 1; }
    @{ int back_id = 1; }
    @if (Model != null)
    {
        
        <div id="SSP_Menu" style=" float:left; position:relative; top:0px; left:0px; width:100%; height:55px; margin-bottom:10px; background-color:#4a4a4a; border-radius:2px;">
            
            <div class="radioButton" style=" width:185px; border-bottom:2px solid #ffa910; text-align:left; margin:13px 0 0 7px;" onclick="OpenPlayerM('/m/mplaylists/artist/@(ViewBag.search_string)?@ViewBag.CurrPage');">
                <a class="chartplPlay" title="play"></a>
                &nbsp;&nbsp;Play All Songs
            </div>

            @using (Html.BeginForm("pr_CreateRadioStation_POST", "radio", FormMethod.Post))
            {
                <input type="hidden" id="RadioStationSearchTerm" name="RadioStationSearchTerm" value="@(ViewBag.search_string)" />
                <input type="submit" style=" float:left; width:220px; height:35px; line-height:32px; background-color:#42606e; color:#dedede; border-radius:3px; text-align:center;  font-size:19px; font-family:'Lato', sans-serif; cursor:pointer;  border-bottom:2px solid #ffa910; text-align:left; margin:13px 0 0 7px;" value="&nbsp;&nbsp;Convert To My Station" />
            }

        </div>
        
        
            foreach (var item in Model.Entries)
            {
            <div @if (back_id == 1)
                 {<text>class="SongItm"</text>}
                 else
                 {<text>class="SongItmB"</text>} >
                

                <div class="lfCont">
                    
                    <img alt="" class="imgThumb" src="@item.Thumbnails[0].Url" onclick="OpenPlayerM('/m/mplaylists/song/@item.VideoId?@HttpUtility.UrlEncode(item.Title)');" />
                    
                    <div class="songCont" onclick="OpenPlayerM('/m/mplaylists/song/@item.VideoId?@HttpUtility.UrlEncode(item.Title)');">
                        <span class="style_23">@item.Title</span> <br />
                        Views: <span class="style_24">@item.ViewCount</span><br />
                        Author: <span class="style_24">@item.Author</span><br />
                        Duration: <span class="style_24">@(Int32.Parse(item.Media.Duration.Seconds) / 60)<text>:</text>@(Int32.Parse(item.Media.Duration.Seconds) % 60)</span><br />


                        @if (@item.RatingAverage != null)
                        {
                            <div>Rating: <span style=" color:#FCF088;"> @item.RatingAverage</span></div>
                        }

                        
                    </div>
                    
                </div>



                <div class="rtCont">
                    
                    <div class="PlayPl_btn" onclick="OpenPlayerM('/m/mplaylists/song/@item.VideoId?@HttpUtility.UrlEncode(item.Title)');">
                       Play
                    </div>

                </div>


            </div>
        
        
                
        

                back_id = back_id * -1;
                curr_index = curr_index + 1;
            }






            if (Model.Entries.ToList().Count() == 0)
            {
            <div class="NFMessageCont">
                <div>No video results for “@ViewBag.search_string.Replace("+", " ")”</div>
            </div>
            }


    }
    








@if (Model != null)
{
    <div class="SongSearchPagingRoot">
        
        <div class="PagingInner">
        @{ int total_pages = 20; }
        @{ total_pages = Model.TotalResults / Model.PageSize; }


        @if ((Model.TotalResults % Model.PageSize) > 0)
        {
            total_pages += 1;
        }

        @if (total_pages > 20)
        {
            total_pages = 20;
        }
        


        @for (int i = 1; i <= total_pages; i++)
        {
            if (ViewBag.CurrPage == i)
            {
                <a class="searchPagingBtn_Sel" onclick="SearchMusicStrPage('@ViewBag.search_string', '@i')" >@i.ToString()</a>
            }
            else
            {   
                <a class="searchPagingBtn" onclick="SearchMusicStrPage('@ViewBag.search_string', '@i')" >@i.ToString()</a>
            }
        }
        </div>
       
    </div>
}



